{"version":3,"sources":["Platform.es6"],"names":[],"mappings":"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","file":"Platform.js","sourcesContent":["\nclass Platform {\n\n    /**\n     * Load all Providers of the active Platform\n     * @param filter\n     * @return {Promise}\n     */\n\n    static load(platform) {\n        return new Promise((resolve, reject) => {\n            var providers = [];\n\n            Helper.animationsTest(() => {\n                \"use strict\";\n                switch(platform) {\n                    case \"android\":\n                        providers.push(new AppOfTheDayAndroid().load());\n                        providers.push(new GOTDAndroid().load());\n                        providers.push(new AppSales().load());\n                        providers.push(new AmazonSpecialDiscounts().load());\n                        break;\n\n                    case \"iphone\":\n                        providers.push(new AppOfTheDayIPhone().load());\n                        providers.push(new GOTDIPhone().load());\n                        providers.push(new AppShopperIPhone().load());\n                        providers.push(new IOSnoopsIPhone().load());\n                        break;\n\n                    case \"windows\":\n                        providers.push(new WindowsStoreDeals().load());\n                        break;\n\n                    case \"ipad\":\n                        providers.push(new AppShopperIPad().load());\n                        providers.push(new IOSnoopsIPad().load());\n                        break;\n\n                    default:\n                        reject(\"Invalid calling of the loadArticles function\")\n                        break;\n                }\n\n                Promise.all(providers).then(() => {\n                    console.log(`Finished loading all ${platform} providers.`);\n                    resolve();\n                });\n            });\n        });\n    };\n\n    /**\n     * Change Platform\n     * @param filter\n     */\n\n    static change(platform) {\n\n        if (Platform.locked || platform === Platform.active)\n            return;\n        else\n            Platform.locked = true;\n\n        Providers.clear();\n        $(\".page-header\").removeAttr(\"style\"); // Fix for tablet layout changes\n\n        $(\".col-1 > .provider-entry, .col-2, .col-3\").slideUp({\n            easing: \"easeInOutQuint\",\n            duration: 700,\n            always: function () {\n                $(this).show();\n                $(\".provider-entry\").remove();\n            }\n        });\n\n        Platform.load(platform).then(() => Platform.locked = false);\n    }\n\n\n    /**\n     * Get/set active Platform\n     * @param platform\n     */\n\n    static set active(platform) {\n        $(\"#filter-\" + platform).attr('style', 'background-image: url(svg/platform_logo/' + platform + '-selected.svg);');\n\n        if(this._active) {\n            $(\"#filter-\" + this._active).attr('style', `background-image: url(svg/platform_logo/ ${this._active}.svg);`);\n        }\n\n        Platform.change(platform);\n        document.location.hash = this._active = platform;\n    }\n\n    static get active() {\n        return this._active;\n    }\n\n    static setFromHash() {\n        if([\"#android\", \"#iphone\", \"#windows\", \"#ipad\"].indexOf(document.location.hash) !== -1) {\n            Platform.active = document.location.hash.substring(1);\n        }\n    }\n\n\n    /**\n     *  Get/set initial platform\n     *  @param filter\n     */\n\n    static set initial(filter) {\n        this._initial = filter;\n        localStorage.setItem('initialFilter', filter);\n        Preferences.loadInitialFilter();\n    }\n\n    static get initial() {\n        let filter = localStorage.getItem('initialFilter');\n\n        if(filter == null) {\n            filter = this.initial = \"android\";\n        }\n\n        return filter;\n    }\n}\n"]}