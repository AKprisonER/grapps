{"version":3,"sources":["IOSnoops.es6"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;IAIM,Q;;;AAEF,wBAAc;AAAA;;AAAA;;AAGV,cAAK,IAAL,GAAY,UAAZ;AACA,cAAK,IAAL,GAAY,gCAAZ;AAJU;AAKb;;;;gCAEO,I,EAAM;AAAA;;AACV,gBAAI,QAAQ,EAAE,KAAK,OAAL,CAAa,OAAb,EAAqB,QAArB,CAAF,CAAZ;AACA,gBAAI,OAAO,IAAX;;AAEA,kBAAM,IAAN,CAAW,OAAX,EAAoB,IAApB,CAAyB,UAAC,CAAD,EAAI,SAAJ,EAAkB;AACvC,oBAAI,aAAa,EAAE,SAAF,CAAjB;AACA,oBAAI,MAAM,IAAI,GAAJ,CAAQ,IAAR,CAAV;;AAEA,oBAAI,IAAJ,GAAW,WAAW,IAAX,CAAgB,mBAAhB,EAAqC,GAArC,CAAyC,kBAAzC,EAA6D,OAA7D,CAAqE,MAArE,EAA4E,EAA5E,EAAgF,OAAhF,CAAwF,GAAxF,EAA4F,EAA5F,EAAgG,OAAhG,CAAwG,MAAxG,EAAgH,EAAhH,CAAX;AACA,oBAAI,KAAJ,GAAY,WAAW,IAAX,CAAgB,MAAhB,EAAwB,IAAxB,EAAZ;AACA,oBAAI,GAAJ,GAAU,WAAW,IAAX,CAAgB,MAAhB,EAAwB,IAAxB,CAA6B,MAA7B,CAAV;;AAEA,oBAAI,SAAS,WAAW,IAAX,CAAgB,WAAhB,EAA6B,IAA7B,CAAkC,QAAlC,CAAb;AAAA,oBACI,QAAQ,8BAA8B,IAA9B,CAAmC,MAAnC,CADZ;;AAGA,oBAAG,OAAO,MAAM,CAAN,CAAP,IAAmB,WAAnB,IAAkC,OAAO,MAAM,CAAN,CAAP,IAAmB,WAAxD,EAAqE;AACjE,wBAAI,EAAJ,GAAS,MAAT;AAEH,iBAHD,MAGO;AACH,wBAAI,EAAJ,GAAS,OAAK,QAAL,CAAc,MAAM,CAAN,CAAd,CAAT;AACA,wBAAI,EAAJ,GAAS,OAAK,QAAL,CAAc,MAAM,CAAN,CAAd,CAAT;AACH;;AAED,qBAAK,IAAL,CAAU,IAAV,CAAe,GAAf;AACH,aApBD;AAqBH;;;iCAEQ,G,EAAK;AACV,gBAAG,QAAQ,GAAX,EAAgB;AACZ,uBAAO,MAAP;AAEH,aAHD,MAGO;AACH,oBAAI,QAAQ,IAAI,SAAJ,CAAc,CAAd,EAAiB,IAAI,MAAJ,GAAa,CAA9B,CAAZ;AAAA,oBACI,SAAS,IAAI,SAAJ,CAAc,IAAI,MAAJ,GAAa,CAA3B,CADb;;AAGA,6BAAW,KAAX,SAAoB,MAApB;AACH;AACJ;;;;EA9CkB,Q;;IAiDjB,c;;;AACF,8BAAc;AAAA;;AAAA;;AAGV,eAAK,QAAL,GAAgB,QAAhB;AACA,eAAK,GAAL,GAAW,OAAK,SAAL,GAAiB,2CAA5B;AACA,eAAK,QAAL,GAAgB,OAAhB;AACA,eAAK,UAAL,GAAkB,UAAlB;AACA,eAAK,OAAL,GAAe,eAAf;AAPU;AAQb;;;EATwB,Q;;IAYvB,Y;;;AACF,4BAAc;AAAA;;AAAA;;AAGV,eAAK,QAAL,GAAgB,MAAhB;AACA,eAAK,GAAL,GAAW,OAAK,SAAL,GAAiB,yCAA5B;AACA,eAAK,QAAL,GAAgB,OAAhB;AACA,eAAK,UAAL,GAAkB,UAAlB;AACA,eAAK,OAAL,GAAe,eAAf;AAPU;AAQb;;;EATsB,Q","file":"IOSnoops.js","sourcesContent":["/**\r\n * Created by Dieter on 13/11/2016.\r\n */\r\n\r\nclass IOSnoops extends Provider {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.name = \"iosnoops\";\r\n        this.logo = \"svg/provider_logo/iosnoops.png\";\r\n    }\r\n\r\n    handler(data) {\r\n        var $data = $(data.replace(/src/gi,'source'));\r\n        var self = this;\r\n\r\n        $data.find('.post').each((i, eventItem) => {\r\n            var $eventItem = $(eventItem);\r\n            var app = new App(self);\r\n\r\n            app.icon = $eventItem.find(\".app-left-icon3 a\").css('background-image').replace('url(','').replace(')','').replace(/\\\"/gi, \"\");\r\n            app.title = $eventItem.find(\"h2 a\").text();\r\n            app.url = $eventItem.find(\"h2 a\").attr(\"href\");\r\n\r\n            var source = $eventItem.find(\".nav4 img\").attr(\"source\"),\r\n                match = /price-([0-9]+)(-([0-9]+))?/g.exec(source);\r\n\r\n            if(typeof match[2] == 'undefined' || typeof match[3] == 'undefined') {\r\n                app.np = \"FREE\";\r\n\r\n            } else {\r\n                app.op = this.getPrice(match[1]);\r\n                app.np = this.getPrice(match[3]);\r\n            }\r\n\r\n            self.apps.push(app);\r\n        });\r\n    }\r\n\r\n    getPrice(str) {\r\n        if(str === \"0\") {\r\n            return \"FREE\"\r\n\r\n        } else {\r\n            var first = str.substring(0, str.length - 2),\r\n                second = str.substring(str.length - 2);\r\n\r\n            return `$${first}.${second}`;\r\n        }\r\n    }\r\n}\r\n\r\nclass IOSnoopsIPhone extends IOSnoops {\r\n    constructor() {\r\n        super();\r\n\r\n        this.platform = \"iphone\";\r\n        this.url = this.moredeals = \"http://www.iosnoops.com/iphone-deals/all/\";\r\n        this.location = \"col-2\";\r\n        this.appearance = \"app-list\";\r\n        this.columns = \"double-column\";\r\n    }\r\n}\r\n\r\nclass IOSnoopsIPad extends IOSnoops {\r\n    constructor() {\r\n        super();\r\n\r\n        this.platform = \"ipad\";\r\n        this.url = this.moredeals = \"http://www.iosnoops.com/ipad-deals/all/\";\r\n        this.location = \"col-2\";\r\n        this.appearance = \"app-list\";\r\n        this.columns = \"double-column\";\r\n    }\r\n}"]}