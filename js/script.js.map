{"version":3,"sources":["script.es6"],"names":[],"mappings":";;AACA,EAAE,SAAF,CAAY,EAAC,OAAO,IAAR,EAAZ;;AAEA,SAAS,IAAT,CAAc,OAAd,EAAuB;AACnB,WAAO,IAAI,OAAJ,CAAY,UAAU,OAAV,EAAmB,MAAnB,EAA2B;AAC1C,UAAE,IAAF,CAAO,OAAP,EAAgB,IAAhB,CAAqB,OAArB,EAA8B,IAA9B,CAAmC,MAAnC;AACH,KAFM,CAAP;AAGH;;AAED,EAAE,YAAM;;AAEJ;AACA,QAAG,SAAS,QAAT,CAAkB,IAArB,EAA2B;AACvB,iBAAS,WAAT;AAEH,KAHD,MAGO;AACH,iBAAS,MAAT,GAAkB,SAAS,OAA3B;AACH;;AAED;AACA,gBAAY,iBAAZ;;AAEA;AACA,SAAK,IAAI,IAAT,IAAiB,UAAU,GAA3B,EAAgC;AAC5B,YAAI,CAAC,UAAU,GAAV,CAAc,cAAd,CAA6B,IAA7B,CAAL,EAAyC;AACrC;AACH;;AAED,UAAE,iBAAF,EAAqB,EAArB,CAAwB,CAAxB,EAA2B,MAA3B,4FAEiD,IAFjD,WAE0D,YAAY,iBAAZ,CAA8B,IAA9B,IAAsC,SAAtC,GAAkD,EAF5G,qDAGkC,IAHlC,iIAMe,UAAU,GAAV,CAAc,IAAd,CANf;AAUH;;AAED;AACA,MAAE,iBAAF,EAAqB,EAArB,CAAwB,OAAxB,EAAiC,YAAY;AACzC,YAAG,CAAC,SAAS,MAAb,EACI,SAAS,MAAT,GAAkB,EAAE,IAAF,EAAQ,IAAR,CAAa,IAAb,EAAmB,OAAnB,CAA2B,SAA3B,EAAsC,EAAtC,CAAlB;AACP,KAHD;;AAKA;AACA,MAAE,qCAAF,EAAyC,EAAzC,CAA4C,OAA5C,EAAqD,YAAW;AAC5D,iBAAS,OAAT,GAAmB,EAAE,IAAF,EAAQ,IAAR,CAAa,IAAb,EAAmB,OAAnB,CAA2B,cAA3B,EAA2C,EAA3C,CAAnB;AACH,KAFD;;AAIA;AACC,MAAE,iBAAF,EAAqB,KAArB,CAA2B,UAAS,GAAT,EAAc;AACrC,YAAI,eAAJ;AACA,YAAI,cAAJ;;AAEA,YAAI,YAAY,EAAE,IAAF,EAAQ,IAAR,CAAa,WAAb,CAAhB;AAAA,YACI,OAAO,UAAU,IAAV,CAAe,IAAf,EAAqB,OAArB,CAA6B,cAA7B,EAA6C,EAA7C,CADX;AAAA,YAEI,UAAU,UAAU,EAAV,CAAa,UAAb,CAFd;AAAA,YAGI,OAAO,UAAU,GAHrB;;AAKA,kBAAU,IAAV,CAAe,SAAf,EAA0B,CAAC,OAA3B;AACA,oBAAY,kBAAZ,CAA+B,IAA/B,EAAqC,CAAC,OAAtC;AACJ,KAXA;;AAaD,MAAE,2BAAF,EAA+B,KAA/B,CAAqC,YAAW;AAC9C,UAAE,IAAF,EAAQ,MAAR,CAAe,iBAAf,EAAkC,KAAlC;AACD,KAFD;;AAIA;AACA,MAAE,iBAAF,EAAqB,EAArB,CAAwB,OAAxB,EAAiC,YAAY;AACzC,UAAE,YAAF,EAAgB,OAAhB,CAAwB,EAAE,WAAW,CAAb,EAAxB,EAA0C,MAA1C;AACA,UAAE,gBAAF,EAAoB,WAApB,CAAgC,EAAC,QAAQ,gBAAT,EAA2B,UAAU,IAArC,EAAhC;AACH,KAHD;AAKH,CAlED","file":"script.js","sourcesContent":["\n$.ajaxSetup({async: true});\n\nfunction ajax(options) {\n    return new Promise(function (resolve, reject) {\n        $.ajax(options).done(resolve).fail(reject);\n    });\n}\n\n$(() => {\n\n    // Set filter and load articles\n    if(document.location.hash) {\n        Platform.setFromHash();\n\n    } else {\n        Platform.active = Platform.initial;\n    }\n    \n    // Load preferences from Local Storage\n    Preferences.loadInitialFilter();\n\n    // Add provider checkboxes to settings\n    for (var name in Providers.map) {\n        if (!Providers.map.hasOwnProperty(name)) {\n            continue;\n        }\n\n        $('.settings-group').eq(1).append(\n            `<div class=\"checkbox-group\"> \n                <input type=\"checkbox\" id=\"input-check-${name}\" ${Preferences.isProviderEnabled(name) ? 'checked' : ''}> \n                <label for=\"input-check-${name}\">\n                    <span class=\"check\"></span>\n                    <span class=\"box\"></span>\n                     ${Providers.map[name]}\n                 </label>\n            </div>`\n        );\n    }\n\n    // Platform buttons handler\n    $(\".page-header li\").on('click', function () {\n        if(!Platform.locked)\n            Platform.active = $(this).attr('id').replace(\"filter-\", \"\");\n    });\n    \n    // Platform settings\n    $(\".settings-group input[type='radio']\").on('click', function() {\n        Platform.initial = $(this).attr(\"id\").replace(\"input-radio-\", \"\");\n    });\n    \n    // Provider settings\n     $(\".checkbox-group\").click(function(evt) {\n         evt.stopPropagation();\n         evt.preventDefault();\n\n         let $checkbox = $(this).find(\":checkbox\"),\n             name = $checkbox.attr(\"id\").replace(\"input-check-\", \"\"),\n             checked = $checkbox.is(\":checked\"),\n             test = Providers.all;\n\n         $checkbox.prop(\"checked\", !checked);\n         Preferences.setProviderEnabled(name, !checked);\n    });\n\n    $('.checkbox-group :checkbox').click(function() {\n      $(this).parent('.checkbox-group').click();\n    });\n\n    // Settings button handler\n    $(\"#settingsButton\").on('click', function () {\n        $(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n        $(\".header-hidden\").slideToggle({easing: \"easeInOutQuint\", duration: 1000});\n    });\n\n});"]}